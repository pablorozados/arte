<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arte Digital</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background-color: black;
    }
    canvas {
      position: absolute;
    }
    #input-container {
      position: relative;
      z-index: 10;
      text-align: center;
    }
    input {
      padding: 10px;
      font-size: 18px;
    }
    button {
      padding: 10px 20px;
      font-size: 18px;
      margin-left: 10px;
    }
  </style>
</head>
<body>
  <div id="input-container">
    <input type="text" id="user-input" placeholder="Digite algo..." />
    <button onclick="generateArt()">Criar Arte</button>
  </div>
  <canvas id="art-canvas"></canvas>

  <script>
    const canvas = document.getElementById('art-canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    // Mapeamento de letras/sílabas para formas
    const shapeMap = {
      a: 'circle',
      b: 'square',
      c: 'triangle',
      ba: 'star',
      ca: 'hexagon',
      // Adicione mais mapeamentos aqui
    };

    // Função para calcular uma posição determinística com base na letra/sílaba
    function calculatePosition(char, index) {
      const hash = char.charCodeAt(0) + index * 31;
      const x = (hash % canvas.width);
      const y = (hash % canvas.height);
      return { x, y };
    }

    // Função para desenhar formas
    function drawShape(type, x, y, size, color) {
      ctx.fillStyle = color;
      ctx.beginPath();
      if (type === 'circle') {
        ctx.arc(x, y, size, 0, Math.PI * 2);
      } else if (type === 'square') {
        ctx.rect(x - size / 2, y - size / 2, size, size);
      } else if (type === 'triangle') {
        ctx.moveTo(x, y - size / 2);
        ctx.lineTo(x - size / 2, y + size / 2);
        ctx.lineTo(x + size / 2, y + size / 2);
        ctx.closePath();
      } else if (type === 'star') {
        for (let i = 0; i < 5; i++) {
          const angle = (Math.PI * 2 * i) / 5 - Math.PI / 2;
          const outerX = x + Math.cos(angle) * size;
          const outerY = y + Math.sin(angle) * size;
          ctx.lineTo(outerX, outerY);
          const innerAngle = angle + Math.PI / 5;
          const innerX = x + Math.cos(innerAngle) * (size / 2);
          const innerY = y + Math.sin(innerAngle) * (size / 2);
          ctx.lineTo(innerX, innerY);
        }
        ctx.closePath();
      } else if (type === 'hexagon') {
        for (let i = 0; i < 6; i++) {
          const angle = (Math.PI * 2 * i) / 6;
          const hexX = x + Math.cos(angle) * size;
          const hexY = y + Math.sin(angle) * size;
          if (i === 0) ctx.moveTo(hexX, hexY);
          else ctx.lineTo(hexX, hexY);
        }
        ctx.closePath();
      }
      ctx.fill();
    }

    // Função para gerar arte
    function generateArt() {
      const input = document.getElementById('user-input').value.toLowerCase();
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      let index = 0;
      while (index < input.length) {
        let match = null;

        // Verifica se há uma sílaba correspondente
        for (const key in shapeMap) {
          if (input.startsWith(key, index)) {
            match = key;
            break;
          }
        }

        // Se não houver sílaba correspondente, usa a letra
        if (!match) {
          match = input[index];
        }

        const shapeType = shapeMap[match] || 'circle'; // Forma padrão: círculo
        const { x, y } = calculatePosition(match, index);
        const size = 30 + (match.length * 10); // Tamanho baseado no comprimento da sílaba/letra
        const color = `hsl(${(match.charCodeAt(0) * 37) % 360}, 70%, 60%)`; // Cor baseada no código da letra

        drawShape(shapeType, x, y, size, color);

        index += match.length; // Avança o índice pelo comprimento da sílaba/letra
      }
    }
  </script>
</body>
</html>

